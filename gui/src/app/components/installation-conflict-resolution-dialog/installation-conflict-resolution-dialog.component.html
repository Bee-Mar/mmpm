<h2 mat-dialog-title style="text-align: center">
  Installation Conflict
  <mat-icon style="color: yellow;">report_problem</mat-icon>
</h2>
<div>
  <mat-dialog-content class="mat-typography">
    <div *ngIf="data?.matchesInstalledTitles?.length">
      <h3 style="text-align: center;">
        <strong>
          The following selected packages match an already installed package's title:
        </strong>
      </h3>
      <mat-list style="margin-left: 3em;">
        <mat-list-itme *ngFor="let pkg of data.matchesInstalledTitles | keyvalue"> {{ pkg.value.title }} ({{ pkg.value.repository }})</mat-list-itme>
      </mat-list>
      <br>
      <br>
      <div style="text-align: center;">
        <strong>Please remove the conflicting packages first</strong>
      </div>
      <br>
    </div>

    <div *ngIf="data?.matchesSelectedTitles?.length">
      <h3 style="text-align: center;">
        <strong>
          The following selected packages have conflicting titles:
        </strong>
      </h3>
      <div style="margin-left: 5em;">
        <div *ngFor="let pkg of data.matchesSelectedTitles | keyvalue" style="margin-bottom: 1em; text-align: left;">
          <mat-checkbox color="primary" (click)="$event.stopPropagation()" (change)="$event ? onSelection(pkg) : null" [checked]="selection.isSelected(pkg)" [disabled]="disable[pkg.key]">
            {{ pkg.value.title }} (<a href="{{ pkg.value.repository }}" target="_blank">{{ pkg.value.repository }})</a>)
          </mat-checkbox>
        </div>
      </div>
      <br>
      <div style="text-align: center;">
        <strong>
          Please select one of each of the duplicate titles to install
        </strong>
      </div>
    </div>
  </mat-dialog-content>
</div>

<mat-dialog-actions align="center">
  <button mat-raised-button (click)="onCancel()" color="primary" style="margin-right: 3em;">
    <mat-icon>
      close
    </mat-icon>
  </button>
  <button *ngIf="data?.matchesSelectedTitles?.length" [disabled]="!selection?.selected?.length" mat-raised-button color="accent" matTooltip="Submit" (click)="onSubmit()">
    <mat-icon>
      done
    </mat-icon>
  </button>
</mat-dialog-actions>
