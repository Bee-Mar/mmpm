<p-table #dt [value]="packages" [(selection)]="selected_packages" dataKey="id" [rowHover]="true" [rows]="10"
  [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" [paginator]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
  [globalFilterFields]="['title', 'category', 'author']">
  <ng-template pTemplate="caption">
    <div class="table-header">
      List of Magic Mirror Packages
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input pInputText type="text" (input)="dt.filterGlobal($event?.target?.value, 'contains')"
          placeholder="Global Search" />
      </span>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 4rem">
        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
      </th>
      <th pSortableColumn="category">
        <div class="flex justify-content-between align-items-center">
          Category
          <p-sortIcon field="category"></p-sortIcon>
        </div>
      </th>
      <th pSortableColumn="title">
        <div class="flex justify-content-between align-items-center">
          Title
          <p-sortIcon field="title"></p-sortIcon>
        </div>
      </th>
      <th pSortableColumn="author">
        <div class="flex justify-content-between align-items-center">
          Author
          <p-sortIcon field="author"></p-sortIcon>
        </div>
      </th>
      <th style="width: 5rem"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-package>
    <tr class="p-selectable-row">
      <td>
        <p-tableCheckbox [value]="package"></p-tableCheckbox>
      </td>
      <td>
        <span class="p-column-title">Category</span>
        {{package?.category}}
      </td>
      <td>
        <span class="p-column-title">Title</span>
        {{package?.title}}
      </td>
      <td>
        <span class="p-column-title">Author</span>
        {{package?.author}}
      </td>
      <td style="text-align: center">
        <button pButton type="button" class="p-button-secondary" icon="pi pi-cog"></button>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">No packages found.</td>
    </tr>
  </ng-template>
</p-table>
